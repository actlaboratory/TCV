Twitcasting Viewer(TCV) 更新履歴

2021/XX/XX Version 3.X.X
1. Version3.0.5において、カラムの並び替えが保存されなくなってしまっていた不具合を修正しました。
2. キーボードショートカットの設定で、１つの項目に対して同じショートカットキーを複数個設定すると、重複する部分を自動で削除するように変更しました。
3. キーボードショートカットの設定で、Spaceキーを単独で割り当てることができないように変更しました。

2021/02/11 Version 3.0.5
1. ライブ接続後に受け取ったアイテムの履歴を、新しい順に一覧表示して確認できる機能を追加しました。
2. 複数のコメントを同時に受信した際、ツイキャスでの表示順序とTCVでの表示順序が逆になっていた問題を修正しました。
3. ライブ接続時、特定の場合に同じコメントを２重に受信することがあった問題を改善しました。
4. コメント一覧に表示する内容と、表示順序を変更できる機能を追加しました。
5. テキストの折り返し設定を追加しました。
6. 配信中のライブに接続した際にプログラムが異常終了する場合があった問題を修正しました。

2021/01/25 Version 3.0.4
1. 一部のネットワーク環境下で起動できない不具合を修正しました。
2. コンピュータ名が日本語に設定されている場合に、アカウントの追加ができない問題を修正しました。
3. インターネット接続ができない状態で起動した際、ダイアログで[いいえ]を選択するとエラーメッセージが表示される場合があった問題を修正しました。
4. インターネット接続速度が遅い場合に、TCVの動作が極端に遅くなる問題を修正しました。

2021/01/12 Version 3.0.3
1. 一部のライブに接続すると不正終了する問題を修正しました。
2. タイトルバー表示を残り時間に設定している場合に、末尾に「TCV」と表示するように修正しました。

2021/01/03 Version 3.0.2
1. Version 3.0.1への自動バージョンアップにおいて、ファイルの抜け等があったのを修正しました。
2. アカウントマネージャで、[通信用アカウントに設定]ボタンを複数回押せてしまうことがある問題を修正しました。

2021/01/02 Version 3.0.1
1. 接続先ユーザが最後に行ったライブを取得できなかった場合に、[配信者の情報を表示]が動作しなかった問題を修正しました。
2. 接続先のライブ情報を取得できない場合に、ライブ再生をしようとすると不正終了する問題を修正しました。
3. ライブ情報が取得できない場合に、[ライブ情報]を右クリックすると異常終了する問題を修正しました。
4. 接続後にライブが開始された際、[自動的に再生を開始する]の設定が正しく動作しない問題を修正しました。

2021/01/01 Version 3.0.0
1. 開発環境、開発体制の変更に伴い、操作方法を大幅に変更しました。
2. Alt+左右矢印キーによるスペル読み機能を削除しました。
3. コメント本文、コメント投稿者のプロフィール、配信者のプロフィールを表示する機能を追加しました。文字単位でのカーソル移動や、必要な箇所のコピーが可能です。
4. 全ての設定をTCVの画面上から行えるようになりました。
5. コメントの削除機能を追加しました。自分が投稿したコメントを削除したり、自分のライブに投稿されたコメントを削除したりできます。
6. ショートカットキーの割り当てを自由に変更できるようになりました。
7. TCVのウインドウがアクティブでないときに使用できるグローバルホットキーを設定できるようになりました。
8. 英語環境での利用に対応しました。
9. 読み上げを行うタイミングや、効果音の種類を細かく設定できるようになりました。
10. 複数行でのコメント入力に対応しました。

（以下は、「にゃんちゃんの家」で開発されていた時代の更新履歴です。これらの変更は、現在のバージョンには直接関係がありません。）

2020/05/28 Version 2.23
1. ライブ中にカテゴリが変更された際に通知される機能を追加しました。
2. account_name_replaceを利用時、不要なダイアログが表示されてしまう問題を修正しました。

2020/05/23 Version 2.22
1. 高度な設定にaccount_name_replaceセクションを追加しました。相手のユーザ名が長すぎる場合や自分だけのニックネームをつけたい場合などに便利です。

2020/04/26 Version 2.21
1. 閲覧者がコメントの入力を始めた時、効果音で通知する機能を追加しました。ただし、相手が使っている閲覧端末やアプリの種類・バージョンによっては通知されない場合があります。TCVからの入力の場合にも通知されません。
2. 高度な設定にread_editing_userを追加しました。この設定を行うと、コメント入力をはじめたユーザの情報が読上げされるようになります。

2020/04/25 Version 2.20
1. 高度な設定に、 sync_output_device_of_notification オプションを追加しました。このオプションを利用することで、通知音の出力先デバイスを、TCVに設定されている最新の出力先に同期させることができます。

2020/03/22 Version 2.19
1. 高度な設定のうち、timer_typeを2にしていた場合に0とみなされてしまう問題を修正しました。
2. アイテムの送信者の読み上げができなくなっていた問題を修正しました。

2019/10/22 Version 2.18
1. 高度な設定でread_itemを1または2に設定しているとき、読み上げ内容が不適切になっていた不具合を修正しました。
　Version2.17での修正が漏れており、ご迷惑をおかけいたしました。

2019/10/22 Version 2.17
1. ツイキャスの仕様変更によりアイテム情報の取得ができなくなっていた不具合を修正しました。
2. トークンの有効期限経過によりアカウント情報が自動削除された際、アカウント一覧に不要な項目が残ってしまう不具合を修正しました。
3. 末尾が\であるコメントの場合、コメント内容の後に"が表示されてしまっていた不具合を修正しました。

2019/07/07 Version 2.16
1. Version 2.15へのアップデート後、アップデートのお知らせが毎回表示されてしまっていた不具合を修正しました。

2019/07/07 Version 2.15
1. お気に入り登録の際、アカウントの表示名に@が使われていると正しく登録できない不具合を修正しました。
2. ライブ再生が不安定になってしまっていたのを修正しました。ただし、この変更に伴って再生時の遅延が大きくなっています。
　回線速度などの条件によっては、高度な設定により遅延を減らせる場合がありますのでお試しください。
3. 高度な設定に、audio_delayを追加しました。

2019/06/09 Version 2.14
1. ツイキャスページの変更により内部エラーが発生するようになってしまったので修正しました。また、今後変更が生じても内部エラーになりにくいよう修正しました。
2. ライブ再生時の遅延が減らせるかもしれない変更を実施したのですが、効果はいま一つのようでした。

2019/04/08 Version 2.13
1. いつのまにかアップデート用モジュール(up.exe)が抜けていたのを修正しました。
2. Ver2.12で「コマンドラインオプション」機能が付いていたのに、readmeに説明を書いていなかったので追記しました。

2019/04/07 Version 2.12
1. アイテム数増加時のものとは別に、コインの増加時の効果音を指定できるようになりました。詳細は、「3 通知音」の項を参照してください。
2. 高度な設定にSAPI_volumeが追加されました。
3. アカウント設定に関する細かな不具合が多数修正されました。また、このバージョン以降で追加を行ったアカウントはトークンの有効期限が記録され、期限切れになった際には自動削除されるようになりました。

2019/02/21 Version 2.11
1. ライブ情報最下段に表示している接続先アカウントのコンテキストメニューからコメントによる接続先アカウントへの返信(リプライ)ができるようになりました。
2. ライブ音声や効果音の再生に利用するオーディオデバイスを変更できるようになりました。
※現在のところ、再生中にデバイスの抜き差しを頻繁に行うと、再生動作が不安定になることがあります。OSによっても挙動が異なることから、現在のところ対策を検討中です。
3. 高度な設定にdefault_deviceとプロキシを利用する設定が追加されました。
4. ライブ音声の再生開始にかかる時間が短くなりました。
5. アカウント設定画面の横幅を大きくしました。
6. コインがその枠を最大の時間(４時間)まで延長するために必要な枚数集まった時、または集まっている状態でライブに接続した際に「完走に必要なコインが集まりました。」または「…集まっています。」と読み上げる機能を追加しました。
7. 音声再生中のライブが終了し、直後に再びライブが開始された際、ライブ再生に失敗する場合があった不具合を修正しました。
8. ライブ情報最下段に表示している接続先アカウントのコンテキストメニューをマウスによる操作で表示した際、メニューの表示位置がカーソル位置とずれていた不具合を修正しました。
9. ツイキャスのページ変更により起動時にエラー31になってしまう不具合を修正しました。
10. Ver1.14以降、起動時のアカウントの設定が正しく行なえなくなっていた不具合を修正しました。

2018/11/11 Version 2.10
1. 無通知＆コメントなし＆閲覧者なしの場合など特定状況下においてライブ情報の表示やタイマーの計測が実際とは異なる状態となってしまう場合があった不具合を修正しました。
2. 本ソフトウェアの起動時にa.txtという不要なファイルが作成されてしまう不具合を修正しました。
3. 本ファイルに注意事項を追記しました。

2018/11/10 Version 2.09
1. ライブ情報の最下段に接続先アカウント名が表示されるようになりました。
　ここで右クリックまたはアプリケーションキーによりコンテキストメニューを表示すると、接続先の情報を表示できます。
2. Altメニューに「ツール」を新設し、接続中のライブをウェブブラウザで開く機能を追加しました。
3. 間違ったアカウント名への接続を試みた場合でも、ソフトウェアが終了しないようになりました。
4. アカウント名の入力欄にライブページのURLを入力してもライブに接続できるようになりました。
5. ライブ終了後にF1キーを押した時、エラー41で再生に失敗する不具合を修正しました。

2018/10/09 Version 2.08
1. 高度な設定にfont_sizeを追加しました。
2. ツイキャス側の急な仕様変更により、コメントや自己紹介に"が含まれていると正しく表示されなくなった問題に対処しました。
3. Version2.04以降、高度な設定のcomment_replaceが動作しなくなっていた不具合を修正しました。
4. お気に入りに登録したアカウントの名前の最初の１文字が表示されない場合があった不具合を修正しました。

2018/10/05 Version 2.07
1. 高度な設定にvoice_spelling_readerを追加しました。
　PC-TalkerやNVDAの利用者で、コメントなどをSAPIで読み上げている方に便利です。
2. アカウント設定において、最後の１つの登録アカウントを削除しても保存去れない問題を修正しました。
3. Alt+左右矢印キーでの１文字読みにおいて、半角英数などを読み上げた際に他の文字を一緒に読み上げてしまう場合があった不具合を修正しました。
4. このファイル内の注意事項を追記しました。

2018/10/01 Version 2.06
1. ライブ接続語のウィンドウサイズを可変にしました。
2. アイテム情報リストボックスにMPが表示されるようになりました。このMPは有効期限内のアイテム固有の数値の合計で、ランキングなどに影響しています。
3. 配信していないユーザのアカウントに接続した際は、「現在オフラインです。」と読み上げるようになりました。
4. ツイキャスの非公開仕様に合わせて、投稿できるコメントは合計140文字、半角250文字に制限しました。
5. 高度な設定にて、お気に入りのアカウントを設定すると履歴とは別にアカウント選択時の選択肢として表示できるようになりました。
6. 高度な設定のdefault_initial_commentsで指定できる値の上限が250に増えました。
7. 過去に配信を行ったことのないアカウントへの接続やコメント投稿で発生する問題を修正しました。
8. Version2.04にて、効果音がならない場合があった不具合を修正しました。
9. Version2.04にて、コメントを最後まで読み上げない場合があった不具合、リストに途中までしか表示されない場合があった不具合を修正しました。
10. Version2.04にて、高度な設定によるコメントの置換が動作しなくなっていた不具合を修正しました。
11. PC-Talker・NVDAでの読み上げに設定しているとき、前の読み上げを中断せずに読み上げるように改善しました。
12. 高度な設定にてread_item=1に設定しているとき、アイテムを投げたユーザの表示名を正しく取得できなくなっていた不具合を修正しました。
13. コメント本文及び各ユーザの自己紹介内に改行文字やタブ文字があった際に正しく表示されない問題を修正しました。これらの文字は半角スペースとして表示されます。
14. コメントの投稿や受信の際に"や&が含まれている際にエラーが発生したり、正しく表示されなかったりする不具合を修正しました。
15. ２つ以上のコメントが１つにまとまって表示されてしまう事があった問題を修正しました。
16. 新規コメントの受信時などに、右クリックやShift+F10でのメニューで対象がずれる場合があった不具合を修正しました。
17. 他のウィンドウをAlt+F4で終了し、同時にツイキャスが最前面ウィンドウになった際、F4キーの入力として反応してしまう場合があった不具合を修正しました。
18. 複数コメントを一度に受信した時、リスト上での表示順序、ツイキャス公式サイトでの表示順序、音声読み上げの順序が同じになっていなかった不具合を修正しました。
19. その他細かな不具合が修正されました。

2018/09/20 Version 2.05
1. 2.04アップデートに伴う不具合の為、2.03と同じものを再度臨時版としてリリースしました。ご利用の皆様には大変ご迷惑をおかけしました。

2018/09/19 Version 2.04
1. ウィンドウの切り替えでTCVに戻ってきた時、最後にフォーカスしていたオブジェクトを自動で選択するように修正しました。
2. JAWS及びNVDAでの利用中、コメント入力欄でのカーソル移動時の読み上げが間違っていた不具合を修正しました。

2018/09/18 Version 2.03
1. 起動直後の画面を表示中に、他のウィンドウに切り替えてからEnterキーを押した場合であってもライブへの接続が行われてしまっていた問題を修正しました。
2. ライブ音声の再生中に内部エラーになる事がある不具合を修正しました。

2018/09/17 Version 2.02
1. ソフトウェアアップデータを搭載しました。
2. メニューバーの「音声」メニューからSAPI設定を開く機能を追加しました。
3. コメント一覧以外にカーソルがあるとき、F1～F4のキー操作ができない不具合を修正しました。
4. F1キーを複数回押すなどすると、ライブ音声を多重再生してしまう場合があった不具合を修正しました。
5. ライブ終了時などにはライブ音声を自動で停止するように変更しました。
6. モノラル音声で配信されているライブの音声を再生するとソフトウェアの動作が停止してしまう不具合を修正しました。

2018/09/16 Version 2.01
1. ライブ音声の再生機能を追加しました。
2. ライブ接続語の音声出力先変更はメニューバーから行うように変更しました。
3. 高度な設定に項目を追加しました。
4. 自分のアカウント情報を暗号化して保存するように修正しました。
5. 複数アカウント設定時、通信用に設定していないアカウントで一部の通信が行われていた不具合を修正しました。
6. 配信者がテロップを削除した際の読み上げを改善しました。
7. 本ファイルの注意事項に追記しました。

2018/09/15 Version 2.00
1. ツイキャスAPIv2に対応しました。
　これに伴い、利用するにはアカウントの設定が必要になりました。
2. コメント投稿機能を復活させました。
3. ライブ情報にてタイトル、テロップ、カテゴリ、タグの表示に対応しました。
4. コメント一覧で開くポップアップメニューにおいてコメントしたユーザの自己紹介やレベルなどを確認できるようになりました。
5. 高度な設定の設定項目に増減があります。利用している方は必ず確認してください。

2018/08/19 Version 1.17
1. コインがちょうど5枚の状態で延長をして所持コインが０となると、その後コインを獲得するまでコインが５枚あるものとして残り時間の計算が行われていた不具合を修正しました。
2. Ver1.16へのアップデートにより、コメントの受信後に閲覧者数の更新やライブの終了処理が行われなくなってしまっていた不具合を修正しました。
3. ライブ終了後、数秒以内に次のライブを同一ユーザが開始した時、ライブが延長されたものとしてタイマーが継続してしまっていた問題を修正しました。
4. 最近、ツイキャスのサーバが頻繁に通信エラー(コード500)を発生させています。開発チームではこれをAPIv2への移行を促すための措置であると考えています。
　TCVは正式な移行期限である2018年9月中旬までに新しいAPIに対応させる予定ですが、それまでの暫定措置として、エラーを無視するように修正しました。
　なお、エラーが発生すると10秒程度の間閲覧者数やライブの開始・終了などが画面・読み上げに反映されません。この場合であってもしばらく待っていれば再度正常動作に戻ります。作者の環境では数分に一度程度この状況が発生します。

2018/05/05 Version 1.16
1. ライブ中のアカウントに接続した際、残り時間の読み上げにtimer_typeの設定値が反映されていなかった問題を修正しました。
2. タイマーを開始できた時は「接続しました。」と読み上げないように変更しました。
3. 閲覧者数やライブ継続中かどうかの確認の間隔を短くしました。
4. ライブ終了を検知しない場合があった不具合を修正しました。

2018/04/15 Version 1.15
1. JAWSおよびクリップボードへの出力が一部の場合に正しく行なわれなくなっていた不具合を修正しました。
2. ESCキーを押すと、読み上げを停止できるようになりました。
3. Version1.14以降、クリップボードへのコピー及び右クリック(アプリケーションキー)によって開くコンテキストメニュー内の項目や洗濯後の挙動がおかしくなっていた不具合を修正しました。

2018/03/12 Version 1.14
1. 接続先アカウント名の履歴機能を追加しました。
2. ライブ情報にライブのこれまでの経過時間と残り時間を表示するようにしました。
3. 画面レイアウトの都合上、ライブ接続語の画面での終了ボタンを廃止しました。
4. 高度な設定にtimer_typeを追加しました。
5. 高度な設定にcomment_Replaceを追加しました。
6. コメントリストでのコンテキストメニューに機能を追加しました。
7. 高度な設定の利用時、startup_soundの設定値としてopen_live_windowの設定値が読み込まれてしまっていた不具合を修正しました。

2018/01/07 Version 1.13
1. 高度な設定に項目を追加し、アイテムをもらった際の読み上げに対応しました。
2. ライブを延長後にコインをもらっておらず、かつコインより後にアイテムを5種類以上もらっている場合、読み上げがおかしくなる不具合を修正しました。
3. PC-Talkerを起動していないと、TCVが立ち上がらなくなっていた不具合を修正しました。
4. アイテム情報の取得方法を変更し、所持しているすべての種類のアイテムが表示されるようになりました。その代わり、新たにもらったものが上に並ぶ事はなくなりました。
5. alt+左右矢印キーで、コメントの１文字読みができるようになりました。
6. 3時間半を超えているときはコインの枚数に関わらず「延長が可能です。」と言わなくなりました。
7. ライブ延長時の読み上げなど、細かな修正を行いました。
8. 高度な設定のreply_read_modeが正しく反映されていなかった不具合を修正しました。合わせて、設定値の種類が増え、さらに自分のユーザ名を複数指定できるようになりました。
9. アイテム名が英語で取得されてしまう確率が減りました。

2017/11/19 Version 1.12
1. ライブへの接続時に毎回アイテム数増加時の効果音が再生されてしまっていた不具合を修正しました。
2. 滞欧スクリーンリーダーにJAWSを追加しました。クリップボードとPC-Talkerの間に追加したので、バージョンアップ時に設定項目がずれたかもしれません。クリップボード、または読み上げ無しにせっていしていた方は、設定を修正してください。

2017/11/05 Version 1.11
1. 接続完了以降、アイテム数の増減があっても画面上のアイテム情報が更新されていなかった不具合を修正しました。

2017/10/12 Version 1.10
1. アイテム数の表示に対応しました。コンティニューコインやスタンプなどのアイテムを貰った際に、通知音でお知らせします。また、もらったアイテムと所持数を画面上で確認することができます。
2. 新たなコメントの受信時にカーソル位置がリセットされていた不具合を修正しました。
3. コメントの受信時に内部エラーでソフトが終了してしまう場合があった不具合を修正しました。
4. 改行やタブ文字を含むコメントの表示と読み上げがおかしくなってしまっていた不具合を修正しました。これらの文字は、半角スペースとして表示・読み上げされます。
5. 30分を超えてライブを延長した際に、残り時間の表示がマイナスになってしまう不具合を修正しました。
6. 画面のレイアウトを変更しました。
7. クリップボードへの出力と、音声なしでの利用に対応しました。
8. 高度な設定の機能が付きました。
9. 起動時のユーザ名の設定方法が変更されました。
10. バージョン情報の表示機能を付けました。

2016/12/04 Version 1.03
1. ライブの途中から接続した際に、タイマーの残り時間を自動補正するようにしました。
2. タイマーの計測制度を向上させました。
3. 途中でライブが終了した際にメッセージを出すようにし、タイマーが進行中であればリセットするようにしました。
4. 新着コメントを受信した際には、即座にライブ情報も受信して、最新情報を反映させるようにしました。
5. タイマーの残り時間の通知に、専用の音を割り当てました。
6. 上記の変更にあわせて、Readmeを加筆修正しました。

2016/08/12 Version 1.02
1. うまく動かないので、コメント投稿の機能を廃止しました。
2. 簡易タイマー機能をつけました。でも、かなり精度が悪いので、何かしら改善しないとまともに使えないかもです。
3. 閲覧者の人数が変動したときに通知するようになりました。

2016/02/20 Version 1.01
1. コメントの投稿ができるようになりました。
2. 読み上げテンプレートの機能がつきました。
3. コメントの中に改行があるときに、\nというエスケープシーケンスがそのまま挿入されてしまう問題を修正しました。というか、改行があってもなかったことにするようにしました。
※コメント投稿機能に関して、今のところ基本的なエラーチェックしか行っていません。スクリプトを手作業で解析して実装したので、セッションIDの有効期限とかもまだわかっていない部分があります。
※前バージョンの設定ファイルとは互換性がありません。上書きインストールの時点で設定ファイルが上書きされるようにはしていますが、前バージョンのをそのまま読ませると、たぶんソフトが落ちます。
